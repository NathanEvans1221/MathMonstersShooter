# Math Monsters Shooter (æ•¸å­¸æ€ªç‰©å°„æ‰‹)

## ğŸ“– å°ˆæ¡ˆæ¦‚è¿° (Project Overview)
é€™æ˜¯ä¸€å€‹çµåˆæ•¸å­¸æ•™è‚²èˆ‡å°„æ“ŠéŠæˆ²çš„ç€è¦½å™¨æ‡‰ç”¨ç¨‹å¼ã€‚ç©å®¶é§•é§›é£›èˆ¹ï¼Œé€éè¨ˆç®—åŠ æ¸›æ³•é¡Œç›®ä¾†ç™¼å°„å­å½ˆï¼Œæ“Šé€€ä¸æ–·ä¾†è¥²çš„æ•¸å­—æ€ªç‰©ã€‚ç›®æ¨™æ˜¯æä¾›åœ‹å°ä½å¹´ç´šå­¸ç”Ÿä¸€å€‹å……æ»¿è¶£å‘³çš„è¨ˆç®—ç·´ç¿’ç’°å¢ƒã€‚

## ğŸ›  æŠ€è¡“æ¶æ§‹ (Technical Stack)
- **Core Framework**: Vue 3 + Vite
- **Rendering**: HTML5 Canvas (ç”¨æ–¼é«˜æ•ˆèƒ½ç²’å­èˆ‡éŠæˆ²æ¸²æŸ“)
- **Styling**: Vanilla CSS (Neon Space é¢¨æ ¼)
- **Audio**: Web Audio API (é›¶ä¾è³´éŸ³æ•ˆ)
- **State Management**: Vue Reactivity API

## ğŸ— æ¨¡çµ„æ¶æ§‹ (Architecture)

### æ ¸å¿ƒé‚è¼¯ (src/logic/)
- **GameEngine.js**: éŠæˆ²æ ¸å¿ƒé©…å‹•å™¨ã€‚è² è²¬ Canvas çš„æ¸²æŸ“å¾ªç’° (RequestAnimationFrame)ã€éŠæˆ²ç‹€æ…‹åˆ‡æ› (é–‹å§‹ã€æš«åœã€å‹è² åˆ¤å®š) ä»¥åŠå„å€‹å­ç³»çµ±çš„å”èª¿ã€‚
- **EntityManager.js**: å¯¦é«”ç®¡ç†å™¨ã€‚ç¶­è­·éŠæˆ²ä¸­æ‰€æœ‰çš„å‹•æ…‹ç‰©ä»¶ï¼ŒåŒ…æ‹¬ç©å®¶é£›èˆ¹ã€æ•¸å­¸æ€ªç‰©ã€å­å½ˆåŠçˆ†ç‚¸ç²’å­ï¼Œä¸¦è™•ç†å®ƒå€‘çš„ç§»å‹•èˆ‡ç”Ÿå‘½é€±æœŸã€‚
- **MathSystem.js**: æ•¸å­¸é¡Œç›®ç”Ÿæˆå™¨ã€‚è² è²¬ç”¢ç”Ÿ 0-20 ç¯„åœå…§çš„éš¨æ©ŸåŠ æ¸›æ³•ç®—å¼ï¼Œä¸¦ç”ŸæˆåŒ…å«æ­£ç¢ºç­”æ¡ˆèˆ‡å¹²æ“¾é …çš„é¸é …é™£åˆ—ã€‚
- **Collision.js**: ç¢°æ’åµæ¸¬ç³»çµ±ã€‚æä¾›åœ“å½¢èˆ‡åœ“å½¢ã€é»èˆ‡åœ“å½¢ä¹‹é–“ç›¸äº’ç¢°æ’çš„å¹¾ä½•é‹ç®—é‚è¼¯ã€‚
- **SoundManager.js**: éŸ³æ•ˆç®¡ç†å™¨ã€‚åˆ©ç”¨ Web Audio API å³æ™‚åˆæˆéŸ³æ•ˆï¼ˆå¦‚å°„æ“Šè²ã€çˆ†ç‚¸è²ã€BGMï¼‰ï¼Œç„¡éœ€åŠ è¼‰å¤–éƒ¨éŸ³æª”ï¼Œç¢ºä¿è¼•é‡ã€‚
- **TTSManager.js**: èªéŸ³åˆæˆç®¡ç†å™¨ã€‚èª¿ç”¨ç€è¦½å™¨åŸç”Ÿ Speech Synthesis å°‡ä»‹é¢æ–‡å­—èˆ‡é¡Œç›®æ•¸å­—è½‰ç‚ºèªéŸ³ï¼Œè¼”åŠ©å…’ç«¥è½è¦ºå­¸ç¿’ã€‚

### æ‡‰ç”¨ç¨‹å¼å…¥å£èˆ‡é…ç½® (src/)
- **main.js**: æ‡‰ç”¨ç¨‹å¼å…¥å£é»ã€‚åˆå§‹åŒ– Vue å¯¦ä¾‹ä¸¦æ›è¼‰ i18nã€‚
- **i18n.js**: åœ‹éš›åŒ–èªç³»é…ç½®ã€‚å®šç¾©ä¸­è‹±æ–‡ä»‹é¢ç¿»è­¯åŠèªè¨€åˆ‡æ›é‚è¼¯ã€‚

### UI çµ„ä»¶ (src/components/)
- **GameCanvas.vue**: æ¸²æŸ“å±¤ã€‚å°‡ `GameEngine` çš„ç¹ªåœ–è¼¸å‡ºé¡¯ç¤ºåœ¨ Canvas ç•«å¸ƒä¸Šã€‚
- **GameHUD.vue**: è³‡è¨Šé¡¯ç¤ºå±¤ã€‚ç–ŠåŠ åœ¨éŠæˆ²ä¸Šæ–¹çš„ HTML UIï¼Œé¡¯ç¤ºåˆ†æ•¸ã€ç”Ÿå‘½å€¼èˆ‡åŠŸèƒ½æŒ‰éˆ•ã€‚
- **AnswerPanel.vue**: äº’å‹•æ“ä½œå€ã€‚å‹•æ…‹ç”Ÿæˆç®—å¼ç­”æ¡ˆé¸é …æŒ‰éˆ•ï¼Œä¸¦è™•ç†ç©å®¶çš„è§¸æ§èˆ‡é»æ“Šã€‚
- **StartScreen.vue**: éŠæˆ²èµ·å§‹èˆ‡çµç®—ç•«é¢ã€‚è™•ç†ä»»å‹™é–‹å§‹ã€éé—œæç¤ºèˆ‡å¤±æ•—é‡è©¦ã€‚



## ğŸ¨ è¦–è¦ºé¢¨æ ¼ (Visual Aesthetics)
- **Theme**: Neon Space (éœ“è™¹å¤ªç©º)
- **Palette**: Deep Space Blue (#0B0F29) èƒŒæ™¯ï¼Œæ­é… Neon Cyan (#00F3FF) èˆ‡ Magenta (#FF00FF) å¼·èª¿è‰²ã€‚
- **Effects**: ç²’å­çˆ†ç‚¸ã€å…‰æšˆ (Glow)ã€æ¯›ç»ç’ƒ (Glassmorphism) UIã€‚

## âœ… å¯¦ä½œè¨ˆç•« (Implementation Plan)

### Phase 1: Initialization & Foundation
- [x] åˆå§‹åŒ– Vue 3 + Vite å°ˆæ¡ˆ
- [x] è¨­å®šåŸºç¤ CSS è®Šæ•¸ (Design Tokens) èˆ‡å…¨åŸŸæ¨£å¼
- [x] å»ºç«‹å°ˆæ¡ˆç›®éŒ„çµæ§‹ (logic, components, assets)

### Phase 2: Core Logic Implementation
- [x] å¯¦ä½œ `MathSystem.js` (é¡Œç›®ç”Ÿæˆé‚è¼¯)
- [x] å¯¦ä½œ `GameEngine.js` (åŸºç¤ Loop èˆ‡ Canvas setup)
- [x] å¯¦ä½œ `EntityManager.js` (æ€ªç‰©ç”Ÿæˆèˆ‡ç§»å‹•)

### Phase 3: UI & Interaction
- [x] å»ºç«‹ `GameCanvas.vue` æ•´åˆ Canvas
- [x] å»ºç«‹ `AnswerPanel.vue` (åº•éƒ¨äº’å‹•æŒ‰éˆ•)
- [x] ä¸²æ¥å°„æ“Šé‚è¼¯èˆ‡ç¢°æ’åµæ¸¬

### Phase 4: Polish & Effects
- [x] åŠ å…¥ç²’å­çˆ†ç‚¸èˆ‡ç™¼å…‰ç‰¹æ•ˆ
- [x] åŠ å…¥éŸ³æ•ˆè™•ç† (Web Audio API)
- [x] å„ªåŒ– UI å‹•ç•«èˆ‡è½‰å ´ (Start Screen, Game Over)


## ğŸ› ï¸ å­—å‹å„ªåŒ–èˆ‡ç¶­è­· (Font Optimization)

ç‚ºäº†æå‡ç¶²é è¼‰å…¥é€Ÿåº¦ï¼Œæˆ‘å€‘å°‡ 13MB çš„ `ZhuyinFont.ttf` é€éå­é›†åŒ–å£“ç¸®è‡³ 50KB å·¦å³çš„ `ZhuyinFont.woff2`ã€‚ç•¶æœ‰æ–°å¢ä¸­æ–‡ç¿»è­¯æ™‚ï¼Œè«‹å‹™å¿…é‡æ–°åŸ·è¡Œæ­¤æµç¨‹ã€‚

### å­é›†åŒ–å…§å®¹ä¾†æº (Charset Sources)
1.  **åŸºç¤è‹±æ•¸èˆ‡ç¬¦è™Ÿ (Basic ASCII & Math Symbols)**: `A-Z a-z 0-9 + - * / = ? : . % !`
2.  **æ³¨éŸ³ç¬¦è™Ÿ (Bopomofo)**: `U+3100-312F` å®Œæ•´å€æ®µ
3.  **UI ä¸­æ–‡æ–‡æœ¬ (From src/i18n.js)**: éŠæˆ²ä»‹é¢ç”¨å­—

#### å®Œæ•´å­—å…ƒæ¸…å–® (Copy This):
```text
ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+-*/=?:.%! ã„…ã„†ã„‡ã„ˆã„‰ã„Šã„‹ã„Œã„ã„ã„ã„ã„‘ã„’ã„“ã„”ã„•ã„–ã„—ã„˜ã„™ã„§ã„¨ã„©ã„šã„›ã„œã„ã„ã„Ÿã„ ã„¡ã„¢ã„£ã„¤ã„¥ã„¦ËŠË‡Ë‹Ë™æ•¸å­¸æ€ªç‰©å°„æ“Šæ‰‹å¿ƒç®—æˆ°é¬¥æ©Ÿé–‹å§‹ä»»å‹™å¾—åˆ†ç”Ÿå‘½ç­‰å¾…ç›®æ¨™éŠæˆ²çµæŸæœ€çµ‚åˆ†æ•¸é‡æ–°è¼‰å…¥ä¸­æš«åœç¹¼çºŒé›¢é–‹æ­å–œä½ ç ´é—œå·®ä¸€é»éŒ¯äº†ä¸å°å”·å”‰æ€éº¼å¯èƒ½å¥½æ£’è®šçœŸå²å®³å®Œç¾ç™¾ä¸€
```

### æ›´æ–°æµç¨‹ (Update Workflow)
1.  **æº–å‚™**: è¤‡è£½ä¸Šæ–¹çš„ã€Œå®Œæ•´å­—å…ƒæ¸…å–®ã€ã€‚è‹¥æœ‰æ–°å¢ UI æ–‡å­—ï¼Œè«‹æ‰‹å‹•åŠ å…¥æ¸…å–®ä¸­ã€‚
2.  **å·¥å…·**: å‰å¾€ [Transfonter.org](https://transfonter.org/)
3.  **è¨­å®š**:
    *   **Add fonts**: ä¸Šå‚³ `public/fonts/ZhuyinFont.ttf`
    *   **Subsets**: **å…¨éƒ¨å–æ¶ˆå‹¾é¸ (None)** (é¿å…æ··å…¥ç„¡ç”¨å­—å…ƒ)
    *   **Characters**: è²¼ä¸Šå‰›æ‰çš„ã€Œå®Œæ•´å­—å…ƒæ¸…å–®ã€
    *   **Formats**: å‹¾é¸ `WOFF2`
4.  **è½‰æ›**: é»æ“Š `Convert` -> `Download`
5.  **æ›¿æ›**: å°‡ä¸‹è¼‰å¾Œçš„ `.woff2` æª”æ¡ˆé‡æ–°å‘½åç‚º `ZhuyinFont.woff2` ä¸¦è¦†è“‹å°ˆæ¡ˆä¸­çš„ `public/fonts/ZhuyinFont.woff2`ã€‚

---
*Created by Antigravity Assistant*
Math Monsters Shooter åœ‹å°ä¸€å¹´ç´šåŠ æ¸›æ³•éŠæˆ²ç·´ç¿’
